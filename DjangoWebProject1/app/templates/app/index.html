{% extends "app/layout.html" %}

{% block content %}
  <style type="text/css">
          #map-canvas {
             width:70%;
             height:400px;
          }

   </style>
    <p></p>
  <center>
  <div style="border:1px solid black" class="google-map-canvas" id="map-canvas">
  </div>
  </center>


  <script>
    window.onload = function() {
        // map center
        var myLatlng = new google.maps.LatLng(25.6586, -80.3568);
        // map options,
        var myOptions = {
          zoom: 3,
          center: myLatlng
        };
        // standard map
        map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
        // heatmap layer
        heatmap = new HeatmapOverlay(map,
          {
            // radius should be small ONLY if scaleRadius is true (or small radius is intended)
            "radius": 2,
            "maxOpacity": 1,
            // scales the radius based on map zoom
            "scaleRadius": true,
            // if set to false the heatmap uses the global maximum for colorization
            // if activated: uses the data maximum within the current map boundaries
            //   (there will always be a red spot with useLocalExtremas true)
            "useLocalExtrema": true,
            // which field name in your data represents the latitude - default "lat"
            latField: 'lat',
            // which field name in your data represents the longitude - default "lng"
            lngField: 'lng',
            // which field name in your data represents the data value - default "value"
            valueField: 'count'
          }
        );

        var testData = {
          max: 8,
          data: [{'lat': 31.694842000000001, 'count': 34, 'lng': -106.299987},
{'lat': 44.989511999999998, 'count': 25, 'lng': -93.880245000000002},
{'lat': 44.971964999999997, 'count': 15, 'lng': -93.235879999999995},
{'lat': 45.526240000000001, 'count': 15, 'lng': -92.469710000000006},
{'lat': 45.967421999999999, 'count': 35, 'lng': -91.879069999999999},
{'lat': 43.247554999999998, 'count': 21, 'lng': -85.165869999999998},
{'lat': 43.297365999999997, 'count': 13, 'lng': -85.105059999999995},
{'lat': 43.211069999999999, 'count': 15, 'lng': -85.047719999999998},
{'lat': 43.096465999999999, 'count': 18, 'lng': -84.846270000000004},
{'lat': 43.606160000000003, 'count': 15, 'lng': -84.783060000000006},
{'lat': 41.088144, 'count': 14, 'lng': -84.583320000000001},
{'lat': 42.582901999999997, 'count': 18, 'lng': -84.447379999999995},
{'lat': 40.550004999999999, 'count': 15, 'lng': -84.393079999999998},
{'lat': 40.338583, 'count': 14, 'lng': -84.383480000000006},
{'lat': 42.884920999999999, 'count': 12, 'lng': -84.356899999999996},
{'lat': 42.955782999999997, 'count': 15, 'lng': -84.300928999999996},
{'lat': 39.750470999999997, 'count': 9, 'lng': -84.268592999999996},
{'lat': 39.608280000000001, 'count': 15, 'lng': -84.16413},
{'lat': 40.601984999999999, 'count': 12, 'lng': -84.086529999999996},
{'lat': 42.678058999999998, 'count': 13, 'lng': -83.915592000000004},
{'lat': 42.603479, 'count': 10, 'lng': -83.911173000000005},
{'lat': 41.106245000000001, 'count': 13, 'lng': -83.804630000000003},
{'lat': 43.011277, 'count': 21, 'lng': -83.710756000000003},
{'lat': 43.116959000000001, 'count': 13, 'lng': -83.690250000000006},
{'lat': 41.024203999999997, 'count': 13, 'lng': -83.109782999999993},
{'lat': 41.100202000000003, 'count': 17, 'lng': -82.608869999999996},
{'lat': 41.261375000000001, 'count': 16, 'lng': -82.589042000000006},
{'lat': 41.141540999999997, 'count': 42, 'lng': -82.588927999999996}],
        };

        heatmap.setData(testData);
    };
  </script>

{% endblock %}
